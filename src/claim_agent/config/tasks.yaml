# Task definitions (reference; tasks are defined in crew modules)
classify:
  description: Classify the claim as new, duplicate, total_loss, fraud, or partial_loss based on the claim data
  expected_output: One of new, duplicate, total_loss, fraud, or partial_loss with brief reasoning

validate_new_claim:
  description: Step 1 - Validate that all required fields are present. Step 2 - Check data types.
  expected_output: Validation result with any missing or invalid fields

check_policy:
  description: Query the policy database and verify the policy is active with valid coverage
  expected_output: Policy validity and coverage details

assign_claim:
  description: Generate a unique claim ID and set initial status to open
  expected_output: Claim ID and status confirmation

search_claims:
  description: Search existing claims by VIN and incident date for potential duplicates
  expected_output: List of matching or similar claims

compute_similarity:
  description: Compare incident descriptions; if similarity > 80% flag as duplicate
  expected_output: Similarity score and duplicate recommendation

resolve_duplicate:
  description: Decide merge or reject based on similarity; prompt for confirmation if needed
  expected_output: Resolution decision with reasoning

assess_damage:
  description: Evaluate damage description; estimate if repair cost exceeds 75% of value
  expected_output: Damage severity and total loss recommendation

get_valuation:
  description: Fetch vehicle value from valuation service (mock KBB)
  expected_output: Vehicle market value

calculate_payout:
  description: If total loss, calculate payout (value minus deductible)
  expected_output: Payout amount and calculation breakdown

close_claim:
  description: Generate settlement report and close the claim
  expected_output: Settlement report summary and claim closed confirmation

evaluate_escalation:
  description: Evaluate claim for human review (low confidence, high value, fraud indicators)
  expected_output: Escalation report with needs_review, reasons, priority, recommended_action

# Fraud detection tasks
analyze_patterns:
  description: Analyze claim for suspicious patterns including multiple claims, timing anomalies, staged accidents
  expected_output: Pattern analysis with patterns_detected, timing_flags, risk_factors, pattern_score

cross_reference_fraud:
  description: Cross-reference claim against known fraud indicators database
  expected_output: Cross-reference results with fraud_keywords_found, database_matches, risk_level, recommendations

fraud_assessment:
  description: Perform comprehensive fraud assessment combining pattern analysis and cross-reference results
  expected_output: Fraud assessment report with fraud_likelihood, fraud_score, fraud_indicators, recommended_action, siu_referral, should_block

# Partial Loss Workflow Tasks
assess_partial_damage:
  description: Evaluate damage for partial loss claim; confirm repairability
  expected_output: Damage assessment with severity, damaged parts list, and repair confirmation

calculate_repair_estimate:
  description: Calculate complete repair estimate with parts and labor costs
  expected_output: Repair estimate with parts cost, labor hours, total cost, deductible breakdown

assign_repair_shop:
  description: Find and assign an available repair shop for the claim
  expected_output: Shop assignment with name, address, confirmation number, and dates

order_parts:
  description: Order all required parts for the repair
  expected_output: Parts order confirmation with order ID, items, and delivery date

authorize_repair:
  description: Generate repair authorization and finalize the claim
  expected_output: Repair authorization document with authorization ID and terms
